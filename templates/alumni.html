{# 
  ALUMNI PAGE TEMPLATE
  Custom template for displaying alumni directory with search and filters
  Extends the base page template from Goyo theme
#}

{% extends "page.html" %}

{% block content %}
    {# Page Header #}
    <div class="mb-12 pb-4 border-b border-gray-500/15">
        <h1 class="flex items-center gap-3">
            {{ page.title }}
            {% if page.extra.badge %}
                <span class="text-sm font-normal px-2 py-0.5 border border-gray-500/30 rounded">{{ page.extra.badge }}</span>
            {% endif %}
        </h1>
        <p class="text-gray-500">{{ page.description }}</p>
    </div>
    
    {# Introduction paragraph from markdown #}
    {{ page.content | safe }}

    {# Search and Filter Section #}
    <div class="not-prose my-8">
        <div class="card bg-base-200 shadow-xl">
            <div class="card-body">
                <h2 class="card-title">Search Alumni</h2>
                
                {# Search Input #}
                <div class="form-control">
                    <input 
                        type="text" 
                        id="alumni-search" 
                        placeholder="Search by name, company, or role..." 
                        class="input input-bordered w-full"
                    />
                </div>

                {# Filters #}
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                    {# Batch Filter #}
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Batch</span>
                        </label>
                        <select id="filter-batch" class="select select-bordered w-full">
                            <option value="">All Batches</option>
                            <option value="2022">2022</option>
                            <option value="2023">2023</option>
                            <option value="2024">2024</option>
                            <option value="2025">2025</option>
                        </select>
                    </div>

                    {# Domain Filter #}
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Domain</span>
                        </label>
                        <select id="filter-domain" class="select select-bordered w-full">
                            <option value="">All Domains</option>
                            <option value="Backend Development">Backend Development</option>
                            <option value="Frontend Development">Frontend Development</option>
                            <option value="Full Stack">Full Stack</option>
                            <option value="Machine Learning">Machine Learning</option>
                            <option value="Natural Language Processing">NLP/AI</option>
                            <option value="Computer Vision">Computer Vision</option>
                            <option value="Cloud Infrastructure">Cloud Infrastructure</option>
                            <option value="Distributed Systems">Distributed Systems</option>
                            <option value="Product Management">Product Management</option>
                            <option value="Documentation">Documentation</option>
                            <option value="Security">Security</option>
                            <option value="Fintech">Fintech</option>
                        </select>
                    </div>

                    {# Company Filter #}
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Company Type</span>
                        </label>
                        <select id="filter-company" class="select select-bordered w-full">
                            <option value="">All Companies</option>
                            <option value="FAANG">FAANG</option>
                            <option value="Startup">Startup</option>
                            <option value="Service">Service Based</option>
                            <option value="Research">Research/Academia</option>
                        </select>
                    </div>
                </div>

                {# Results Count #}
                <div class="mt-4">
                    <p class="text-sm text-gray-500">
                        Showing <span id="results-count">0</span> alumni
                    </p>
                </div>
            </div>
        </div>
    </div>

    {# Alumni Grid - Data populated by JavaScript from alumni.yaml #}
    <div id="alumni-grid" class="not-prose grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 my-8">
        {# Alumni cards will be injected here by JavaScript #}
    </div>

    {# No Results Message #}
    <div id="no-results" class="hidden text-center py-12">
        <svg class="w-16 h-16 mx-auto text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <p class="text-gray-500 text-lg">No alumni found matching your criteria</p>
        <p class="text-gray-400 text-sm mt-2">Try adjusting your search or filters</p>
    </div>

    {# Loading State #}
    <div id="loading-state" class="text-center py-12">
        <span class="loading loading-spinner loading-lg"></span>
        <p class="text-gray-500 mt-4">Loading alumni data...</p>
    </div>

    {# JavaScript for Alumni Search and Display #}
    {# Load alumni data from single YAML file #}
    <script>
        // Load all alumni from data/alumni.yaml
        window.allAlumni = {{ load_data(path="data/alumni.yaml") | json_encode() | safe }}.alumni;
        
        console.log(`Loaded ${window.allAlumni.length} alumni from data/alumni.yaml`);
    </script>
    <script src="{{ get_url(path='js/alumni-search.js') }}"></script>

    {# Additional Content Sections #}
    <div class="prose prose-lg max-w-none mt-16">
        <hr class="my-12">
        
        <h2>Want to Be Featured?</h2>
        <p><strong>CC Club Alumni:</strong> Update your profile!</p>
        <p>If you're a CC Club alumnus and want to be featured here:</p>
        <ol>
            <li>Fill out the <a href="https://forms.gle/alumni-update-form">Alumni Form</a></li>
            <li>Provide: Name, Batch, Current Role, Company, LinkedIn, Photo</li>
            <li>Optional: Share your experience, advice for juniors</li>
        </ol>
        <p><strong>Privacy</strong>: Only information you choose to share will be displayed.</p>
        
        <hr class="my-12">
        
        <h2>Alumni Success Stories</h2>
        <p>Read about journeys of our alumni:</p>
        <ul>
            <li><a href="/blog/alumni-stories/vikram-google">From CC Club to Google: Vikram's Story</a></li>
            <li><a href="/blog/alumni-stories/priya-startup">How CC Club Prepared Me for Startup Life</a></li>
            <li><a href="/blog/alumni-stories/rahul-opensource">From Contributor to Open Source Maintainer</a></li>
        </ul>
        
        <hr class="my-12">
        
        <h2>Alumni Engagement</h2>
        <h3>Give Back to CC Club</h3>
        <ul>
            <li><strong>Mentorship</strong>: Guide current students in their technical and career journeys</li>
            <li><strong>Guest Lectures</strong>: Share your experiences and insights</li>
            <li><strong>Recruitment</strong>: Hire talented CC Club members</li>
            <li><strong>Sponsorship</strong>: Support club events and initiatives</li>
        </ul>
        <p>Interested? Contact us at <strong>alumni@ccclub.edu</strong></p>
        
        <hr class="my-12">
        
        <h2>Connect with Alumni</h2>
        <ul>
            <li><strong>LinkedIn Group</strong>: <a href="https://linkedin.com/groups/ccclub-alumni">CC Club Alumni Network</a></li>
            <li><strong>Discord</strong>: <a href="https://discord.gg/ccclub-alumni">Join Alumni Channel</a></li>
            <li><strong>Email</strong>: alumni@ccclub.edu</li>
        </ul>
    </div>

{% endblock content %}

{# 
  NOTES FOR CONTENT TEAM:
  
  1. DATA SOURCE:
     - Alumni data comes from data/alumni.yaml (single file)
     - Template loads data into window.allAlumni
     - alumni-search.js handles display, search, and filtering
     - To add alumni: Just add an entry to data/alumni.yaml
  
  2. ADDING NEW FILTERS:
     - Add new <select> element in the filters grid
     - Give it an id like "filter-yourfield"
     - Update alumni-search.js to handle the new filter
  
  3. STYLING:
     - Uses DaisyUI components (card, input, select)
     - Grid layout is responsive (1 col mobile, 2 cols tablet, 3 cols desktop)
     - Modify Tailwind classes to change appearance
  
  4. CUSTOMIZATION:
     - Change grid columns: modify "grid-cols-1 md:grid-cols-2 lg:grid-cols-3"
     - Change card styling in alumni-search.js
     - Add more filter options in the dropdowns
  
  5. TROUBLESHOOTING:
     - If alumni don't show: Check browser console for errors
     - If search doesn't work: Verify alumni-search.js is loaded
     - If filters don't work: Check filter IDs match JavaScript
#}
